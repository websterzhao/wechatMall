"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getOpenId=void 0;var getOpenId=exports.getOpenId=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=void 0;try{t=_index2.default.getStorageSync("taro_demo_openid")}catch(e){console.log(e)}if(t)return e.abrupt("return",t);e.next=6;break;case 6:return e.next=8,_index2.default.cloud.callFunction({name:"user",data:{$url:"getOpenId"}});case 8:return r=e.sent,t=r.result.data,_index2.default.setStorage({key:"taro_demo_openid",data:t}),e.abrupt("return",t);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();exports.getSystemInfo=getSystemInfo,exports.parseMoney=parseMoney,exports.throttle=throttle;var _index=require("../npm/@tarojs/taro-weapp/index.js"),_index2=_interopRequireDefault(_index);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var i=e.apply(this,arguments);return new Promise(function(a,u){return function t(e,r){try{var n=i[e](r),o=n.value}catch(e){return void u(e)}if(!n.done)return Promise.resolve(o).then(function(e){t("next",e)},function(e){t("throw",e)});a(o)}("next")})}}function getSystemInfo(){var e=_index2.default.getSystemInfoSync()||{model:""};return e.isIpx=!!(e.model&&-1<e.model.indexOf("iPhone X")),e}function parseMoney(e){e=e.toString().replace(/\$|,/g,""),isNaN(e)&&(e="0");var t=(e=Math.floor(100*e+.50000000001))%100;e=Math.floor(e/100).toString(),t<10&&(t="0"+t);for(var r=0;r<Math.floor((e.length-(1+r))/3);r++)e=e.substring(0,e.length-(4*r+3))+","+e.substring(e.length-(4*r+3));return e+"."+t}function throttle(n,o,a){o=o||250;var u=void 0,i=void 0;return function(){var e=a||this,t=+new Date,r=arguments;u&&t<u+o?(clearTimeout(i),i=setTimeout(function(){u=t,n.apply(e,r)},o)):(u=t,n.apply(e,r))}}